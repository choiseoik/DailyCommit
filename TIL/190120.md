# 공부한것 정리

## 이롭게 스코프 면접을 통해 다시 개념 정리하기

> 오랜만에 github daily repo를 보니 나의 말로 정리를 잘해 놓았던 듯하다. 그래서 그런지 이해도가 좀 빨랐던듯.. 열심히 공부했었네.. 근데 왜 까먹엇지 ㅠ

스코프에 대한 키워드들을 정리해보면

- 블록 스코프
- 함수 스코프
- 렉시컬 스코프
- 글로벌 스코프

### 블록 스코프

블록 스코프가 가장 간단한데 let 과 const가 갖는 스코프를 말한다. if, for, while, function 등의 구문을 사용하면 블록이 형성되어 외부에서 접근할 수 없다. 기능이 없는 기능도 가능하다.

### 함수 스코프

let, const가 도입되기 전까지 var를 사용했는데 일단 호이스팅이 발생한다. 호이스팅은 var변수로 선언된 변수가 내부적으로 함수 혹은 파일의 맨 위로 끌어올려지는 과정을 거친다. 그래서 같은 스코프안에만 있다면 최상단에 선언이 되어서 해당 변수에 접근이 가능하다. 하지만 값은 할당 되지 않는다. 그래서 undefined가 선언되고 이를 호이스팅이라고 부른다.

> 예전에는 js잘한다 는 호이스팅과 클로져, 스코프 등을 잘 다룬다 로 통했다고 한다.
>
> 이전 필기 참조

또한 var는 함수 스코프이므로 블록에서 정의된 것은 뚫고 올라가는 호이스팅 현상이 발생한다.

```js
function func() {
  for (var i = 0; i < 10; i++) {
    // ...
  }
  console.log(i); // 10
}
```

### 가장 유명한 호이스팅 예제

```js
for (var i = 0; i < 3; i++) {
  console.log("outer");
  // 위아래 두 `i` 변수는 같은 함수 스코프에서 정의된 같은 변수입니다.
  // 바깥쪽 루프를 한 번 도는 동안, 안쪽 루프를 도느라 이미 `i`의 값이 3이 되어버렸습니다.
  for (var i = 0; i < 3; i++) {
    console.log("inner");
  }
}
```

### 렉시컬 스코프

렉시컬(lexical)은 영문으로 "단위, 어휘와 관련이 있다" 라는 의미를 지닌다. js에서 렉시컬 특성을 프로그램 코드와 관련이 있다고 생각할 수 있다. 즉, 함수를 실행 단계가 아닌 정의 단계에서 유효범위를 설정하고 있다.

```js
var x = "global";

function foo() {
  var x = "local";
  bar();
}

function bar() {
  console.log(x);
}

foo(); // global
bar(); // global
```

이 예제를 통해서 블록스코프와 함수 스코프와는 다른 의미로 쓰인다고 배운거 같다.

> 그럼 김진님께서 말씀하신 global scope vs lexical scope의 var vs let 차이는 뭐지..

### 글로벌 스코프

가장 상위 파일에 선언된 변수로써 어느 곳이든 접근이 가능한 스코프를 애기한다.
