# TypeScript 알아보기

갑작스런 셰어킴 면접이 잡힘으로써 타입스크립트에 대해 공부를 하게 되었다.

빠르고 정확하게 짚어가며 공부를 해보자.

## 타입스크립트의 특징

- 컴파일 언어, 정적 타입언어이다. JS는 인터프리터 언어지만, TypeScript는 컴파일 언어로 코드 수준에서 미리 타입을 체크하여 오류를 체크해냄. 단 전통적인 컴파일 언어와는 다르게, 링킹 과정이 생략되어 있음.
- 타입 기반 언어로써
  - 타입스크립트 = 자바스크립트 + 타입
  - 컴파일 단계에서 타입 오류를 잡아낼 수 있고, 코드 어시스트 기능도 지원받을 수 있다.
  - 이것을 통해 암묵적 형변환, 호이스팅, 복잡성 문제를 해결할 수 있다.

> 컴파일러와 인터프리터의 차이점

    ## 컴파일러

```md
    - 컴파일러는 고급언어로 작성된 프로그램 전체를 목적 프로그램으로 변역한 후, 링킹 작업을 통해 컴퓨터에서 실행 가능한 실행 프로그램을 생성한다.
    - 번역과 실행 과정을 거쳐야하기 때문에 번역 과정이 번거롭고 번역 시간이 오래 걸리지만, 한번 번역한 후에는 다시 번역하지 않으므로 실행 속도가 빠르다.
    - 컴파일러를 사용하는 언어는 FORTRAN, COBOL, PASCAL, C, C++, PL/1등이 있다.
```

    ## 인터프리터

```md
    - 인터프리터는 고급 언어로 작성된 프로그램을 한줄 단위로 받아들여 번역하고, 번역과 동시에 프로그램을 한줄 단위로 즉시 실행시키는 프로그램이다.
    - 프로그램이 직접 실행되므로 목적 프로그램이 생성되지 않는다.
    - 줄 단위로 번역, 실행되기 때문에 시분할 시스셈에 유용하며 원시 프로그램의 변화에 대한 반응이 빠르다.
    - 번역 속도는 빠르지만 프로그램 실행시 매번 번역해야 하므로 실행속도는 느리다.
    - CPU 사용 시간의 낭비가 크다.
    - 사용언어로는 BASIC, SNOBOL, LISP, APL등이 있다.
```

컴파일러 인터프리터 공부를 하다보니 계속 지식에 대한 궁금증이 생긴다.

> 어셈블리어는 왜 있는 것일까? 기계어에서 바로 고급언어로 진행하면 되는데 굳이 어셈블리어가 있는 이유는? 예측 ⇒ 역사에 의해서 존재하는것

기계어에 대해 우리가 아는 것이 하나도 없다는 점이고, 기계어를 안다손 쳐도 소스코드를 하나하나 기계어로 번역하는 과정은 무지하게 헷갈리낟는 점이다. 둘째는 C이외의 다른 언어에 대한 컴파일러 B를 새롭게 개발하는 상황이 왓을 때 이 과정에서 사용한 중간 단계 언어 번역기를 그대로 사용할 수 있다는 이점이 있기 때문이다. 셋째는 기계어는 기계마다 그 내용이 다르기 때문에 기계가 바뀔때마다 기계에 맞는 기계어로 번역해야 하는데, 중간 단계 언어 번역기가 도입되면 이 과정이 아주 단순해 지기 때문이다.

> 컴파일과 런타임의 동작 원리 및 과정 공부
>
> 정적타입언어와 동적타입언어의 차이점

## 컴파일 타임과 런타임

예시로 오버라이드와 오버로드를 들고 있다.

오버로드는 매개변수의 타입과 길이를 이용해서 같은 메소드의 리턴값을 다르게 만들어주는 형식이고 오버라이드는 부모의 메소드를 자식 클래스로 가져와서 자신만의 정의로 재 정의해서 사용하는 것을 말하는데

오버로드는 컴파일 타임에서 결정이 되고 오버라이드는 런타임시 결정이 된다. 고로 메소드가 내용이 다르다면 컴파일시 매개변수유형이 다르다면 런타임시 결정이 된다.

> 오버로딩은 인자의 타입만으로 어떤 메소드를 호출할지 결정한다.

또 다른 개념.. 캐스팅..(끝이없이 계속나온다..ㅠㅠ);

일단 업캐스팅은 에러가 발생하지 않으나 다운캐스팅에서 에러가 많이 발생한다. 이정도로 넘어가자

- 런타임 ⇒ 어떤 프로그램이 실행되는 동안의 Time
- 컴파일 ⇒ 고급 언어를 기계어로 변경하는 과정

## 바이트 코드 언어

Java와 C#이 이 계열 언어이다. 소스코드를 컴파일하는 것까지는 컴파일 언어와 같은데 이 결과물이 가상 머신용 어셈블리코드, 즉 바이트 코드 형태이며 이걸 가상머신이 실제 기계어로 한줄한줄 번역하여 실행한다.

## 컴파일러 실행 단계

1. 구문 분석: 소스코드 파일을 릭어 개별 문법요소 단위로 자른후, 이 문법 요소들을 해석하여 추상 구문 트리를 생성한다. 이 과정에서 문법에 맞지 않는 소스 코드는 사용자에게 알려준다.
2. 최적화 : 추상 구문 트리를 분석하여 최적화를 수행한다. 도달할 수 없는 코드를 식별하거나, 상수 표현식을 미리 계산해 두거나, 루프 풀기 등의 대부분의 최적화가 이 단계에서 수행된다.
3. 코드 생성: 최적화된 구문 트리로부터 목적 코드를 생성한다. 목표 언어가 기계어일 경우, 레지스터 활당, 연산 순서 바꾸기 등 하드웨어에 맞는 최적화가 이단계에서 수행된다. 대부분의 하드웨어 최적화 알고리즘은 NP복잡도를 갖지만, 휴리스틱을 통해 많은 최적화가 수행된다.
4. 링킹 : 목적 코드가 기계어일 경우, 여러 라이브러리 목적 코드를 묶어 하나의 실행 파일을 생성하게 된다. 이 과정은 링커에 의해 수행되며, 어떤 사람들은 링커를 컴파일러의 이부로 간주하지 않기도 한다.

## 인터프리터 실행단계

1. 소스코드
2. 인터프리터
3. 실행

다시 타입스크립트로 돌아와서..(타입스크립트를 이해하기 위해서는 컴파일과 인터프리터 동작 방식에 대해서 알아야 했기에 돌아왔다)

![ts-image](https://cdn-images-1.medium.com/max/720/1*E182qP5fZC_px5VImqwZsQ.jpeg)

TypeScript는 MS에 의해 개발 / 관리 되고 있는 오픈소스 프로그래밍 언어이다. 대규모 애플리케이션을 개발하는데 JS가 어렵고 불편하다는 불만에 대응하기 위해 개발되었다.

TS는 스크립트 언어의 표준인 ES의 표준을 따르기 때문에 JS영역을 침범하지 않고 ES를 지원한다.

## TS의 특징

가장 큰 특징은 type을 지정하는 것이다.

> TypeScript = JavaScript + type

JS의 var와 같은 자료형 대신, string, number 같은 자료형을 지정함으로써 안정성을 확보한다. TS를 설치할 때 같이 설치되는 tsc는 컴파일 과정에서 타입 검사를 통해 에러없이 안정성이 확보되면 타입을 제거하고 최종적으로 JS코드를 생성한다.

> 내 언어로 정리를 해보자면 JS는 동적타입언어이다. 그렇기에 컴파일시 타입을 설정해주지 않아도 작동이 되지만 TS를 통해 컴파일시 타입 검사를 실시해 안정성을 높여주는 역할을 한다.

type이 생김으로 인해 **몇가지 장점** 이 생기는데 우선 변수에 type이 추가되어 안정성이 확보된다. 두번째로 type에 대한 예외 처리를 하지 않아도 된다.(런타임시 예외처리 설정) 가령 JS에서는 사용자 입력 값에 대해 예외처리를 위해 아래와 같이 코드를 작성할 수 있다.

```js
if (typeof 변수 !== "string") {
  // 예외처리
}
```

위와 같은 예외처리가 빈번하게 발생할 수록 오버헤드가 생기지만, typescript로 타입이 지정 될 시 위와 같은 예외처리 코드를 사용할 필요가 없다.

마지막 장점은 JS엔진의 최적화를 돕는다. JS엔진은 hot function(자주 호출되는 함수)에 대해 최적화를 수행한다.

`var add = (a,b) => a+b;`

JS엔진은 위 함수가 자주 호출되며, 인자 a,b가 정수형으로 들어오는 것을 확인했다. 엔진은 '아! 앞으로도 a,b는 정수가 들어오는구나 라고 가정을 하고 최적화를 수행하는데 갑자기 string이 들어오면 최적화가 해체된다. 이런 최적화와 해체 작업이 반복되면 성능이 저하되므로 TS에서는 type을 지정하고 컴파일 과정에서 검사하기 때문에 최적화 해체가 발생할 상황이 적어진다.

1. type이 추가되어 안정성 확보
2. type에 대한 예외처리 설정 불필요
3. JS엔진에 최적화 작업 성능 증가

## 출처

[https://skout90.github.io/2017/08/12/Typescript/1. typescript란/](https://skout90.github.io/2017/08/12/Typescript/1.%20typescript%EB%9E%80/)

정보처리기사 필기시험 - 시나공

[https://kwangyulseo.com/2016/10/16/컴파일-타임과-런타임/](https://kwangyulseo.com/2016/10/16/%EC%BB%B4%ED%8C%8C%EC%9D%BC-%ED%83%80%EC%9E%84%EA%B3%BC-%EB%9F%B0%ED%83%80%EC%9E%84/)

[https://medium.com/sjk5766/typescript-란-37b5b6a6f884](https://medium.com/sjk5766/typescript-%EB%9E%80-37b5b6a6f884)
